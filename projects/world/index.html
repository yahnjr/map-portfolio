<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global</title>
    <meta name="project-title" content="Global">
    <link rel="stylesheet" href="../../resources/styles/footer.css">
    <link rel="stylesheet" href="../../resources/styles/headnav.css">
    <link rel="stylesheet" href="../../resources/styles/infobox.css">
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.6.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.6.0/mapbox-gl.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        #map {
            width: 100%;
            height: 100vh;
        }        
    </style>
</head>
<body class="subpage">
    <div class="header" id="header">
        <div id="header-atmosphere"></div>
        <div class="star-background"></div>
        <div class="header-content">
            <h1>Map Portfolio</h1>
            <p>Ian Maher</p>
        </div>
    </div>
    <div class="nav-bar">
        <a href="../../index.html">
            <button class="nav-button" id="globe-button">
                <i class="fa fa-globe" style="font-size:36px;color:white"></i>
                <span class="text">Globe</span>
            </button>
        </a>

        <button class="nav-button projects-button" id="projects-button">
            <i class="fa fa-map" style="font-size:36px;color:white"></i>
            <span class="text">Project Pages</span>
        </button>

        <button class="nav-button">
            <i class="fa fa-address-card" style="font-size:36px;color:white"></i>
            <span class="text">About Me</span>
        </button>

    </div>
    <div class="info-box" id="infoBox">
        <h2>Global Trust in Health Infographic</h2>
        <p>
            <b>Skills used:</b>
            <span id="skillsContainer"></span>
        </p>
        <p>An attempt at a full magazine spread-style infographic I made for my Cartography course. I always enjoyed maps that were dense with information and invited the reader to get closer and explore. I also wanted to try working with a global dataset to fine tune my symbolization and labeling skills, as larger maps present different challenges than ones with smaller geographic extents. I pulled data from the Wellcome Global Monitor's 2018 international poll. Pollsters visited 178 countries, interviewing 1,000 participants in each location, and asked a series of 20 questions to determine how much people trust doctors, scientists, governments, and other entities when it comes to public health and healthcare decisions. Although this format of data was certainly difficult to work with, I found many interesting results and tried to highlight some of them throughout the map. A full sized, undistorted version of the map <a href="../../resources/pictures/world.jpg" target="_blank">can be found here</a></p>
    </div>
    <button class="info-button" id="infoButton">
        <i class="fa fa-info-circle" style="font-size:24px;"></i>
    </button>
    <div id="map"></div>

    <div id="projects-modal" class="projects-modal">
        <div class="projects-modal-content">
            <button class="projects-modal-close" id="close-projects">&times;</button>
            <div class="projects-grid"></div>
        </div>
    </div>

    <div id="footer"></div>
    
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiaWZvcm1haGVyIiwiYSI6ImNsaHBjcnAwNDF0OGkzbnBzZmUxM2Q2bXgifQ.fIyIgSwq1WWVk9CKlXRXiQ';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/satellite-v9',
            zoom: 1,
            center: [0, 0],
            projection: 'equirectangular',
        });
        map.on('load', () => {
            map.addSource('global-map', {
                'type': 'image',
                'url': '../../resources/pictures/world.jpg',
                'coordinates': [
                    [-180, 85], // Top-left
                    [179, 85], // Top-right
                    [179, -85],  // Bottom-left
                    [-180, -85] // Bottom-right
                ]
            });
            map.addLayer({
                'id': 'global-map',
                'type': 'raster',
                'source': 'global-map',
                'paint': {
                    'raster-opacity': 0
                }
            });
            let opacity = 0;
            function fadeIn() {
                opacity += 0.05;
                if (opacity <= 1) {
                    map.setPaintProperty('global-map', 'raster-opacity', opacity);
                    requestAnimationFrame(fadeIn);
                }
            }
            fadeIn();
        });
    </script>

    <script src="../../resources/scripts/projects-script.js"></script>
    <script src="../../resources/scripts/nav-bar.js"></script>
    <script src="../../resources/scripts/footer.js"></script>
    <script src="../../resources/scripts/stars.js"></script>
</body>
</html>
