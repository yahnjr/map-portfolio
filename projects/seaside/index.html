<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seaside</title>
    <meta name="project-title" content="Seaside">
    <link rel="stylesheet" href="../../resources/styles/footer.css">
    <link rel="stylesheet" href="../../resources/styles/headnav.css">
    <link rel="stylesheet" href="../../resources/styles/infobox.css">
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.6.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.6.0/mapbox-gl.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        .section1 {
            width: 100%;
            height: 100vh;
        }

        #map {
            width: 100%;
            height: 100vh;
        }        
    </style>
</head>
<body class="subpage">
    <div class="header" id="header">
        <div id="header-atmosphere"></div>
        <div class="star-background"></div>
        <div class="header-content">
            <h1>Map Portfolio</h1>
            <p>Ian Maher</p>
        </div>
    </div>
    <div class="nav-bar">
        <a href="../../index.html">
            <button class="nav-button" id="globe-button">
                <i class="fa fa-globe" style="font-size:36px;color:white"></i>
                <span class="text">Globe</span>
            </button>
        </a>
        <div class="projects-button">
            <i class="fa fa-map" style="font-size:36px;color:white"></i>
            <li class="dropdown">
                <span class="text">Project Pages</span>
                <div class="dropdown-content"></div>
            </li>
            </div>

          <button class="nav-button">
              <i class="fa fa-address-card" style="font-size:36px;color:white"></i>
              <span class="text">About Me</span>
          </button>
          
    </div>
    <div class="info-box" id="infoBox">
        <h2>Seaside Zoning Map</h2>
        <p>
            <b>Skills used:</b>
            <span id="skillsContainer"></span>
        </p>
        <p>I created this map while working as a GIS Technician with 3J Consulting, as a part of a project in cooperation with the City of Seaside staff. Although the city has changed a lot in recent years, the planning department still relied on a hand-amended paper print zoning map on the wall. </p>
        <p> This project involved surveying the available data, perfoming clean up while cross referencing legal documenation and local experts, and creating custom color schemes and land and water symbology for a fresh zoning map that was not only more useful and accurate, but also pleasant to look at. A full sized, undistorted version of the map <a href="../../resources/pictures/seaside.png" target="_blank">can be found here</a></p>
    </div>
    <button class="info-button" id="infoButton">
        <i class="fa fa-info-circle" style="font-size:24px;"></i>
    </button>
    <div id="map"></div>

    <div id="footer"></div>
    
    <script src="../../footer.js"></script>  
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiaWZvcm1haGVyIiwiYSI6ImNsaHBjcnAwNDF0OGkzbnBzZmUxM2Q2bXgifQ.fIyIgSwq1WWVk9CKlXRXiQ';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/satellite-v9',
            zoom: 1,
            bounds: [[-123.976, 46.033], [-123.89, 45.9298]],
            projection: 'mercator',
        });
        map.on('load', () => {
            map.setBearing(290);
            map.addSource('seaside-map', {
                'type': 'image',
                'url': '../../resources/pictures/geomaps/seaside1.png',
                'coordinates': [
                    [-124.007, 46.034],  // Top-left
                    [-123.841, 46.034],   // Top-right
                    [-123.841, 45.933],   // Bottom-right
                    [-124.007, 45.933]   // Bottom-left
                ]
            });
            map.addLayer({
                'id': 'seaside-map',
                'type': 'raster',
                'source': 'seaside-map',
                'paint': {
                    'raster-opacity': 0
                }
            });
            let opacity = 0;
            function fadeIn() {
                opacity += 0.01;
                if (opacity <= 1) {
                    map.setPaintProperty('seaside-map', 'raster-opacity', opacity);
                    requestAnimationFrame(fadeIn);
                }
            }
            fadeIn();

            map.on('click', (e) => {
                const lat = e.lngLat.lat;
                const lng = e.lngLat.lng;
                
                console.log(`Latitude: ${lat}, Longitude: ${lng}`);

            });
        });
    </script>
    
    <script src="../../resources/scripts/footer.js"></script>
    <script src="../../resources/scripts/stars.js"></script>
    <script src="../../resources/scripts/projects-script.js"></script>
</body>
</html>
